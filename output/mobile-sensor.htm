<!--
    Powered By nodePPT
    version: 0.9.2
    site: https://github.com/ksky521/nodePPT
-->
<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>HTML5 传感器 - By zjhiphop</title>
    <link rel="stylesheet" media="all" href="./css/nodeppt2.0.css">
    <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="./css/phone.css">
    <link rel="stylesheet" media="print" href="./css/pdf.css">
    <link rel="stylesheet" href="./js/highlight/styles/monokai_sublime.css">
    <link rel="stylesheet" href="./css/font-awesome.css">
</head>
<body>
<div class="slides">
    <slides id="container">
        <slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>Device传感器和实用技术</h1>
<h2>演讲者：zjhiphop</h2>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vleft">
<h1>传感器</h1>
<h2>动作</h2>
<h2>环境</h2>
<h2>音频</h2>
<h2>视频</h2>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>动作</h1>
<ul>
<li>陀螺仪</li>
<li>加速计</li>
<li>距离传感器</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>陀螺 - 二维</h2>
<p>回转效应：陀螺环绕着固定的转轴不停地旋转
<img src="./img/2d-gyro.jpg" alt="二维陀螺" title="二维陀螺"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>陀螺 - 三维</h2>
<p><img src="./img/3d-gyro.gif" alt="三维陀螺" title="三维陀螺"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>代码</h2>
<pre><code>// http://www.w3.org/2005/10/Process-20051014/tr.html#RecsWD

    // Check to make sure the browser supprots DeviceOrientationEvents
    if (window.DeviceOrientationEvent) {
      // Create an event listener
      window.addEventListener(&#39;deviceorientation&#39;, function(event) {
          // Get the left-to-right tilt (in degrees).
        var tiltLR = event.gamma;

        // Get the front-to-back tilt (in degrees).
        var titleFB = event.beta;

          // Get the direction of the device (in degrees).
        var direction = event.alpha;


           $(&#39;.l2r&#39;).innerText = tiltLR;
           $(&#39;.f2b&#39;).innerText = titleFB;
           $(&#39;.dir&#39;).innerText = direction;

      });
}
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case</p>
<iframe data-src="./example/device-orientation.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>W3C API</h2>
<p><img src="./img/a-rotation.png" width="40%">
<img src="./img/b-rotation.png" width="40%"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>案例：水平仪</h2>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>案例：iOS桌面</h2>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>重力感应 - 加速计 （摇晃程度）<br>acceleration or accelerationIncludingGravity</p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>代码 - 摇一摇</p>
<pre><code>var color = new Array(&#39;#fff&#39;, &#39;#ff0&#39;, &#39;#f00&#39;, &#39;#000&#39;, &#39;#00f&#39;, &#39;#0ff&#39;);  
if(window.ondevicemotion) {  
    var speed = 25;  
    var x = y = z = lastX = lastY = lastZ = 0;  
    window.addEventListener(&#39;devicemotion&#39;, function(){  
        var acceleration =event.accelerationIncludingGravity;  
        x = acceleration.x;  
        y = acceleration.y;  
        if(Math.abs(x-lastX) &gt; speed || Math.abs(y-lastY) &gt; speed) {  
            document.body.style.backgroundColor = color[Math.round(Math.random()*10)%6];  
        }  
        lastX = x;  
        lastY = y;  
}, false);
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case</p>
<iframe data-src="./example/device-motion.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>网球游戏<br><img src="./img/motion-tenis.png" alt="网球" title="网球"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>距离传感器</h2>
<p>案例： 
接电话时，将手机靠近脸部，屏幕会变暗</p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>代码</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
    var $ = function(sel) { 
        return document.querySelector(sel);
    }

    // An event listener for a DeviceProximityEvent.
    window.addEventListener(&#39;deviceproximity&#39;, function(event) {
        // The maximum distance the sensor covers (in cm).
        var max = event.max;

        // The minimum distance the sensor covers (in cm).
        var min = event.min;

        // The device proximity (in cm).
        var proximity = event.value;

        $(&#39;.min&#39;).innerText = min;
        $(&#39;.max&#39;).innerText = max;
        $(&#39;.curr&#39;).innerText = proximity;
    });

    // An event listener for a UserProximityEvent.
    window.addEventListener(&#39;userproximity&#39;, function(event) {
        if (event.near) {
            // Do something.
            $(&#39;.user-action&#39;).innerText = &quot;closing to&quot;;
        } else {
            // Do something else.
            $(&#39;.user-action&#39;).innerText = &quot;far away&quot;;
        }
    });
&lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: proximity</p>
<iframe data-src="./example/device-proximity.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>环境</h1>
<ul>
<li>GPS</li>
<li>磁力计</li>
<li>光线传感器</li>
<li>气压传感器</li>
<li>气温传感器</li>
<li>湿度传感器</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：指南针<br><img src="./img/compass.png" alt="指南针" title="指南针"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：地理位置
代码：</p>
<pre><code>&lt;section&gt;
    Your current location is:&lt;br&gt;
    latitude: &lt;span class=&quot;latitude&quot;&gt;&lt;/span&gt;&lt;br&gt;
    longitude: &lt;span class=&quot;longitude&quot;&gt;&lt;/span&gt;
&lt;/section&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    // Get the location.
    navigator.geolocation.getCurrentPosition(function(position) {
        // Get the positioning coordinates.
        var lat = position.coords.latitude;
        var lon = position.coords.longitude;

        // Do something interesting...
           document.querySelector(&#39;.latitude&#39;).innerText = lon;
           document.querySelector(&#39;.longitude&#39;).innerText = lat;
    });
&lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: geolocation</p>
<iframe data-src="./example/geolocation.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：导航<br>传感器组合： GPS ＋ 磁力计</p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：智能感光  </p>
<pre><code>window.addEventListener(&#39;devicelight&#39;, function(event) {
            // Get the ambient light level in lux.
            var lightLevel = event.value;
            document.querySelector(&#39;.light-level&#39;).innerText = lightLevel;
        });
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: devicelight</p>
<iframe data-src="./example/device-light.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>CSS light-level  </p>
<pre><code>&lt;!-- http://dev.w3.org/csswg/mediaqueries4/#mf-environment --&gt;
&lt;style type=&quot;text/css&quot;&gt;
    @media (light-level: normal) {
        p {
            background: grey; color: #333;
        }
    }

    @media (light-level: dim) {
        p {
            background: red; color: #ccc;
        }
    }

    @media (light-level: washed) {
        p {
            background: green; color: #white;
        }
    }
&lt;/style&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: CSS light-level </p>
<iframe data-src="./example/css-light-level.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<h2>其他</h2>
<ul>
<li>气压传感器 - 海拔 (devicepressure)</li>
<li>温度 (devicetemperature)</li>
<li>湿度 (devicehumidity)</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: 气压传感器 </p>
<iframe data-src="./example/device-pressure.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: 温度 </p>
<iframe data-src="./example/device-templature.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: 湿度 </p>
<iframe data-src="./example/device-humidity.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>音频</h1>
<ul>
<li>麦克风</li>
<li>扬声器</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：咻一咻<br><img src="./img/xiu.jpg" alt="咻一咻" title="咻一咻"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：吹一吹<br><img src="./img/blow.jpg" alt="吹一吹" title="吹一吹"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>代码：</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
        // An event listener for a DeviceProximityEvent.
        window.addEventListener(&#39;devicenoise&#39;, function(event) {
            console.log(&#39;devicenoise changed: &#39;, event);
        });
    &lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: Device Noise </p>
<iframe data-src="./example/device-noise.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例： siri<br><img src="./img/siri.png" alt="siri" title="siri"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>代码：</p>
<pre><code>&lt;p&gt;
    API: 
    &lt;span class=&quot;result&quot;&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;p&gt;
    x-webkit-speech: 
    &lt;input type=&quot;text&quot; x-webkit-speech /&gt;
&lt;/p&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    var recognition = new webkitSpeechRecognition();

        recognition.continuous = true;
        recognition.interimResults = true;
        recognition.lang = &quot;en-GB&quot;;

        recognition.onresult = function(event) { 
          console.log(event);

          document.querySelector(&#39;.result&#39;).innerText = JSON.stringify(event.results);
        }
        recognition.start();
&lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: 语音识别</p>
<iframe data-src="./example/speech-recognize.html" src="about:blank;"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>视频</h1>
<ul>
<li>摄像头</li>
<li>显示器</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>试衣间<br><img src="./img/try-room.jpg" alt="试衣间" title="试衣间"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>试衣间<br><img src="./img/try-ware.png">
<img src="./img/try-ware-online.png"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例： 虚拟现实(VR)<br><img src="./img/visual-r.gif" alt="虚拟现实" title="虚拟现实"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例： 增强现实(AR)<br><img src="./img/ar.jpg" alt="增强现实" title="增强现实"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>代码：</p>
<pre><code>&lt;video autoplay width=&quot;100%&quot; height=&quot;500px&quot;&gt;&lt;/video&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&#39;use strict&#39;;
/*
Web RTC Resource: 
    https://docs.google.com/document/d/1idl_NYQhllFEFqkGQOLv8KBK8M3EVzyvxnKkHl4SuM8/edit
*/

// variables in global scope so available to console
var video = document.querySelector(&#39;video&#39;);
var constraints = {
  audio: false,
  video: true
};

navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia ||
  navigator.mozGetUserMedia;

function successCallback(stream) {
  window.stream = stream; // stream available to console
  if (window.URL) {
    video.src = window.URL.createObjectURL(stream);
  } else {
    video.src = stream;
  }
}

function errorCallback(error) {
  console.log(&#39;navigator.getUserMedia error: &#39;, error);
}

navigator.getUserMedia(constraints, successCallback, errorCallback);
&lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>Show Case: media capture</p>
<iframe data-src="./example/media-capture.html" src="about:blank;" style="height:500px;" height="500px"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>show case: 肤色识别  </p>
<iframe data-src="http://caowenhao.sinaapp.com/" src="about:blank"  style="height:800px;"  height="500px"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>how case: webrtc chat (web socket + video)</p>
<iframe data-src="http://localhost:3002/test" src="about:blank"  style="height:500px;"  height="500px"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article class="flexbox vcenter">
<h1>其它</h1>
<ul>
<li>电池</li>
<li>振动</li>
<li>Web NFC</li>
</ul>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例： 电池电量</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
    var $ = function(sel) {
        return document.querySelector(sel);
    }

    var text = function(sel, text) {
        $(sel).innerText = text;
    }
    navigator.getBattery().then(function(battery) {
        // Get the current power level.
        text(&#39;.level&#39;,battery.level);

        // Get the charging status (boolean).
        text(&#39;.charge-status&#39;,battery.charging);

        // Find out how long until the battery is charged.
        text(&#39;.charge-time&#39;,battery.chargingTime);

        // Find out how long until the battery is empty.
        text(&#39;.discharge-time&#39;,battery.dischargingTime);
    });

&lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>how case: 电池电量</p>
<iframe data-src="./example/bettery.html" src="about:blank"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：振动提醒</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
        // Vibrate for 1 second (1000 milliseconds).
        navigator.vibrate(1000);

        // Vibrate in sequence.
        navigator.vibrate([500, 250, 500]);
    &lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>show case: 振动提醒</p>
<iframe data-src="./example/vibaration.html" src="about:blank"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>案例：web nfc通信</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
    // http://www.w3.org/TR/nfc/
    var hello = new NDEFRecordText(&quot;hello world&quot;, &quot;en-US&quot;, &quot;UTF-8&quot;);

    navigator.nfc.ontagfound = function(e) {
        window.console.log(&#39;NFC Tag found!&#39;);
        var tag = e.tag;
        tag.writeNDEF(new NDEFMessage([hello]));
    }

    navigator.nfc.startPoll().catch(
      function(e) {
        window.console.error(e);
      });
&lt;/script&gt;
</code></pre>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>show case: webnfc</p>
<iframe data-src="./example/webnfc.html" src="about:blank" height="500px"></iframe>
</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>iOS 兼容性<br><img src="./img/ios-compatible-table.jpeg" alt="iOS 兼容性" title="iOS 兼容性"></p>

</article></section></slide>
<slide class="slide"><section class="slide-wrapper"><article>
<p>[W3C Device API][<a href="http://www.w3.org/2009/dap/" target="_blank">http://www.w3.org/2009/dap/</a>]</p>
<iframe data-src="http://www.w3.org/2009/dap/#roadmap" src="about:blank" style="height: 800px;"></iframe>
</article></section></slide>
        <slide class="slide thank-you-slide segue nobackground">
            <article class="flexbox vleft auto-fadein">
                <h2>Q &amp; A</h2>
                <h3>&lt;Thank You!&gt;</h3>
            </article>
        </slide>
        <slide class="slide logoslide dark nobackground">
            <article class="flexbox vcenter">
              <h2 style="color: white;">Powered By nodePPT v0.9.2</h2>
            </article>
          </slide>
        <div class="slideTip" id="tip"></div>
    </slides>
</div>
<canvas id="drawBoard" class="draw-board" width="900" height="700"></canvas>
<div class="progress"><span id="progress"></span></div>
<div id="_buttons">
    <div class="_btn-box" id="_btn-box" style="display:none;">
        <button class="fa fa-arrow-circle-left" id="_btn-prev"></button>
        <button class="fa fa-arrow-circle-right" id="_btn-next"></button>
        <button class="fa fa-paint-brush" id="_btn-brush"></button>
        <button class="fa fa-compress" id="_btn-overview" data-toggle="fa fa-expand"></button>
    </div>
    <button class="fa fa-bars" id="_btn-bar"  data-toggle="fa fa-close"></button>
</div>
<script src="./js/mixjs/lib/mix.0.3.0.min.js"></script>
<script>
var base = location.protocol + '//' + location.host;

var path = location.pathname.split('/').filter(function(v){
    return !!v;
});
path.pop();
path = path.join('/');
MixJS.config({
    baseURL: [ base, path, 'js'].join('/')+'/'
});


MixJS.use('event/broadcast', function($){
    $.loadJS('nodeppt.js',function(){
        Slide.init({
            containerID: 'container',
            drawBoardID: 'drawBoard',
            slideClass: '.slide',
            buildClass: '.build',
            progressID: 'progress',
            transition: 'cards',
            width: 1100,
            dir: './',
            
            //打开下面的注释就开启postMessage方式
            //访问网址127.0.0.1:8080/ppt/demo#client
            control:{
                type: 'postMessage',
                args:{
                    isControl:  false
                }
            },
            
            tipID: 'tip'
        });
    }).loadJS('highlight/hljs-0.8.js',function(){
        hljs.tabReplace = '  ';
        hljs.initHighlightingOnLoad();
    });
});
</script>
<script src="./js/demo.js"></script>
<link rel="stylesheet" href="./css/demo.css">
<link rel="stylesheet" href="./css/slide.css">
</body>
</html>
